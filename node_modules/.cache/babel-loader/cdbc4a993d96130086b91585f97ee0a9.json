{"ast":null,"code":"\"use strict\";//A JSON object. Can be read from an external .json file\n// const quesJSON = require('./questions.json') //only works on server-end eg Node.js\n// function shuffleArray(array) {\n//     let curId = array.length;\n//     // There remain elements to shuffle\n//     while (0 !== curId) {\n//         // Pick a remaining element\n//         let randId = Math.floor(Math.random() * curId);\n//         curId -= 1;\n//         // Swap it with the current element.\n//         let tmp = array[curId];\n//         array[curId] = array[randId];\n//         array[randId] = tmp;\n//     }\n//     return array;\n// }\nfunction getRandomSubarray(arr,size){var shuffled=arr.slice(0),i=arr.length,temp,index;while(i--){index=Math.floor((i+1)*Math.random());temp=shuffled[index];shuffled[index]=shuffled[i];shuffled[i]=temp;}return shuffled.slice(0,size);}export function randomChoice(items){var choice=items[items.length*Math.random()|0];return choice;}//Instancicates an object with .letter (a random letter) & .ques (array of 5+ questions objects); \n//each question object has .category & .answers (array of things in that category and begins with the letter)\nexport function makeNewQuestions(obj){var letter;var candidates;var done=false;while(done===false){letter=randomChoice('abcdefghijklmnopqrstvvwxyz');candidates=obj.questions.filter(function(que){return que.answers.some(function(ans){return ans[0]===letter;});});//Need at least 5 ques\nif(candidates.length>=5){done=true;}}candidates.forEach(function(candidate){//Filter answer/answers that start with letter\ncandidate.answers=candidate.answers.filter(function(ans){return ans[0]===letter;});});var ques=getRandomSubarray(candidates,10);//Random sample\n//Only return max 10 ques to save memory; \n//since after 4 corrects, 5 skips are allowed, so the 10th ques must be answered\nreturn{letter:letter,ques:ques};//returns an object with 2 properties\n}// let q = makeNewQuestions(); //q has two properties: .letter and .ques= five or more categories+answers\n// console.log(q.letter);\n// console.log(q.ques);\n//>>>Below is for testing in the browser (play with text-only)<<<\n// function game() {\n//     let playing = true;\n//     while (playing === true) {\n//         let quesObj = makeNewQuestions(quesJSON);\n//         let letter = quesObj.letter; //A random letter\n//         let ques = quesObj.ques; //5 more more question-sets (categories+answers)\n//         let tally = 0; // If incorporating with xstate, use this as context.tally...?\n//         if (tally === 0) {\n//             alert(`Your letter is ${letter.toUpperCase()}...`);\n//         }\n//         while (tally < 5) {\n//             let que = ques[ques.length - 1]; //start from the last \n//             let cat = que.category;\n//             let answers = que.answers;\n//             let userInput = prompt(`Name ${cat}...`);\n//             let reply = userInput.toLowerCase();\n//             if (answers.includes(reply)) {\n//                 alert(\"Correct!\");\n//                 tally += 1;\n//                 ques.pop(); //remove the last\n//             }\n//             else if (reply === 'hint') {\n//                 let anAns = randomChoice(answers);\n//                 //hint 3 letters\n//                 if (anAns.length >= 3) {\n//                     let hint = anAns.slice(0, 3); //first 3 letters\n//                     let rest = '-'.repeat(anAns.slice(3).length);\n//                     alert(hint + rest);\n//                 }\n//                 //in case word is too short>>hint only 1 letter\n//                 else {\n//                     let hint = anAns.slice(0); //first letter\n//                     let rest = '-'.repeat(anAns.slice(1).length);\n//                     alert(hint + rest);\n//                 }\n//             }\n//             else {\n//                 alert('Try again!');\n//             }\n//         }\n//         if (tally >= 5) {\n//             let reply = prompt('Well done! Play again?');\n//             let yesReplies = ['yes', 'okay', 'sure', 'ok'];\n//             if (yesReplies.includes(reply.toLowerCase())) {\n//                 tally = 0;\n//             }\n//             else {\n//                 alert('Ok bye!');\n//                 playing = false;\n//             }\n//         }\n//     }\n// }\n// game()\n// console.log(eligibleQues('z').length)","map":{"version":3,"sources":["C:/CodingProjects/ABCgame/src/game_codes/game.js"],"names":["getRandomSubarray","arr","size","shuffled","slice","i","length","temp","index","Math","floor","random","randomChoice","items","choice","makeNewQuestions","obj","letter","candidates","done","questions","filter","que","answers","some","ans","forEach","candidate","ques"],"mappings":"AAAA,aAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,QAASA,CAAAA,iBAAT,CAA2BC,GAA3B,CAAgCC,IAAhC,CAAsC,CAClC,GAAIC,CAAAA,QAAQ,CAAGF,GAAG,CAACG,KAAJ,CAAU,CAAV,CAAf,CAA6BC,CAAC,CAAGJ,GAAG,CAACK,MAArC,CAA6CC,IAA7C,CAAmDC,KAAnD,CACA,MAAOH,CAAC,EAAR,CAAY,CACRG,KAAK,CAAGC,IAAI,CAACC,KAAL,CAAW,CAACL,CAAC,CAAG,CAAL,EAAUI,IAAI,CAACE,MAAL,EAArB,CAAR,CACAJ,IAAI,CAAGJ,QAAQ,CAACK,KAAD,CAAf,CACAL,QAAQ,CAACK,KAAD,CAAR,CAAkBL,QAAQ,CAACE,CAAD,CAA1B,CACAF,QAAQ,CAACE,CAAD,CAAR,CAAcE,IAAd,CACH,CACD,MAAOJ,CAAAA,QAAQ,CAACC,KAAT,CAAe,CAAf,CAAkBF,IAAlB,CAAP,CACH,CAED,MAAO,SAASU,CAAAA,YAAT,CAAsBC,KAAtB,CAA6B,CAChC,GAAIC,CAAAA,MAAM,CAAGD,KAAK,CAACA,KAAK,CAACP,MAAN,CAAeG,IAAI,CAACE,MAAL,EAAf,CAA+B,CAAhC,CAAlB,CACA,MAAOG,CAAAA,MAAP,CACH,CAED;AACA;AACA,MAAO,SAASC,CAAAA,gBAAT,CAA2BC,GAA3B,CAAiC,CACpC,GAAIC,CAAAA,MAAJ,CACA,GAAIC,CAAAA,UAAJ,CACA,GAAIC,CAAAA,IAAI,CAAG,KAAX,CACA,MAAOA,IAAI,GAAK,KAAhB,CAAuB,CACnBF,MAAM,CAAGL,YAAY,CAAC,4BAAD,CAArB,CACAM,UAAU,CAAGF,GAAG,CAACI,SAAJ,CAAcC,MAAd,CAAsB,SAAAC,GAAG,QAClCA,CAAAA,GAAG,CAACC,OAAJ,CAAYC,IAAZ,CACI,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAAC,CAAD,CAAH,GAASR,MAAb,EADP,CADkC,EAAzB,CAAb,CAGA;AACA,GAAIC,UAAU,CAACZ,MAAX,EAAqB,CAAzB,CAA4B,CACxBa,IAAI,CAAG,IAAP,CACH,CACJ,CACDD,UAAU,CAACQ,OAAX,CAAmB,SAAAC,SAAS,CAAI,CAC5B;AACAA,SAAS,CAACJ,OAAV,CAAoBI,SAAS,CAACJ,OAAV,CAAkBF,MAAlB,CAA0B,SAAAI,GAAG,QAAIA,CAAAA,GAAG,CAAC,CAAD,CAAH,GAASR,MAAb,EAA7B,CAApB,CACH,CAHD,EAIA,GAAIW,CAAAA,IAAI,CAAG5B,iBAAiB,CAACkB,UAAD,CAAa,EAAb,CAA5B,CAA8C;AAC9C;AACA;AACA,MAAO,CAACD,MAAM,CAANA,MAAD,CAASW,IAAI,CAAJA,IAAT,CAAP,CAAuB;AAC1B,CAKD;AACA;AACA;AAIA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA","sourcesContent":["\"use strict\";\r\n\r\n//A JSON object. Can be read from an external .json file\r\n// const quesJSON = require('./questions.json') //only works on server-end eg Node.js\r\n\r\n\r\n// function shuffleArray(array) {\r\n//     let curId = array.length;\r\n//     // There remain elements to shuffle\r\n//     while (0 !== curId) {\r\n//         // Pick a remaining element\r\n//         let randId = Math.floor(Math.random() * curId);\r\n//         curId -= 1;\r\n//         // Swap it with the current element.\r\n//         let tmp = array[curId];\r\n//         array[curId] = array[randId];\r\n//         array[randId] = tmp;\r\n//     }\r\n//     return array;\r\n// }\r\n\r\nfunction getRandomSubarray(arr, size) {\r\n    var shuffled = arr.slice(0), i = arr.length, temp, index;\r\n    while (i--) {\r\n        index = Math.floor((i + 1) * Math.random());\r\n        temp = shuffled[index];\r\n        shuffled[index] = shuffled[i];\r\n        shuffled[i] = temp;\r\n    }\r\n    return shuffled.slice(0, size);\r\n}\r\n\r\nexport function randomChoice(items) {\r\n    let choice = items[items.length * Math.random() | 0];\r\n    return choice;\r\n}\r\n\r\n//Instancicates an object with .letter (a random letter) & .ques (array of 5+ questions objects); \r\n//each question object has .category & .answers (array of things in that category and begins with the letter)\r\nexport function makeNewQuestions( obj ) {\r\n    let letter;\r\n    let candidates;\r\n    let done = false;\r\n    while (done === false) {\r\n        letter = randomChoice('abcdefghijklmnopqrstvvwxyz');\r\n        candidates = obj.questions.filter( que => \r\n            que.answers.some(\r\n                ans => ans[0]===letter ) );\r\n        //Need at least 5 ques\r\n        if (candidates.length >= 5) {\r\n            done = true;\r\n        }\r\n    }\r\n    candidates.forEach(candidate => {\r\n        //Filter answer/answers that start with letter\r\n        candidate.answers = candidate.answers.filter( ans => ans[0]===letter); \r\n    });\r\n    let ques = getRandomSubarray(candidates, 10); //Random sample\r\n    //Only return max 10 ques to save memory; \r\n    //since after 4 corrects, 5 skips are allowed, so the 10th ques must be answered\r\n    return {letter, ques}; //returns an object with 2 properties\r\n}\r\n\r\n\r\n\r\n\r\n// let q = makeNewQuestions(); //q has two properties: .letter and .ques= five or more categories+answers\r\n// console.log(q.letter);\r\n// console.log(q.ques);\r\n\r\n\r\n\r\n//>>>Below is for testing in the browser (play with text-only)<<<\r\n\r\n// function game() {\r\n//     let playing = true;\r\n//     while (playing === true) {\r\n//         let quesObj = makeNewQuestions(quesJSON);\r\n//         let letter = quesObj.letter; //A random letter\r\n//         let ques = quesObj.ques; //5 more more question-sets (categories+answers)\r\n//         let tally = 0; // If incorporating with xstate, use this as context.tally...?\r\n//         if (tally === 0) {\r\n//             alert(`Your letter is ${letter.toUpperCase()}...`);\r\n//         }\r\n//         while (tally < 5) {\r\n//             let que = ques[ques.length - 1]; //start from the last \r\n//             let cat = que.category;\r\n//             let answers = que.answers;\r\n//             let userInput = prompt(`Name ${cat}...`);\r\n//             let reply = userInput.toLowerCase();\r\n//             if (answers.includes(reply)) {\r\n//                 alert(\"Correct!\");\r\n//                 tally += 1;\r\n//                 ques.pop(); //remove the last\r\n//             }\r\n//             else if (reply === 'hint') {\r\n//                 let anAns = randomChoice(answers);\r\n//                 //hint 3 letters\r\n//                 if (anAns.length >= 3) {\r\n//                     let hint = anAns.slice(0, 3); //first 3 letters\r\n//                     let rest = '-'.repeat(anAns.slice(3).length);\r\n//                     alert(hint + rest);\r\n//                 }\r\n//                 //in case word is too short>>hint only 1 letter\r\n//                 else {\r\n//                     let hint = anAns.slice(0); //first letter\r\n//                     let rest = '-'.repeat(anAns.slice(1).length);\r\n//                     alert(hint + rest);\r\n//                 }\r\n//             }\r\n//             else {\r\n//                 alert('Try again!');\r\n//             }\r\n//         }\r\n//         if (tally >= 5) {\r\n//             let reply = prompt('Well done! Play again?');\r\n//             let yesReplies = ['yes', 'okay', 'sure', 'ok'];\r\n//             if (yesReplies.includes(reply.toLowerCase())) {\r\n//                 tally = 0;\r\n//             }\r\n//             else {\r\n//                 alert('Ok bye!');\r\n//                 playing = false;\r\n//             }\r\n//         }\r\n//     }\r\n// }\r\n\r\n// game()\r\n\r\n// console.log(eligibleQues('z').length)"]},"metadata":{},"sourceType":"module"}