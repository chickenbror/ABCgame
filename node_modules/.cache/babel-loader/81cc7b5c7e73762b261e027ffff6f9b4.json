{"ast":null,"code":"import _slicedToArray from\"C:/CodingProjects/ABCgame/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"C:/CodingProjects/ABCgame/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import*as React from\"react\";//XState library & Game DM-machine\nimport{Machine,assign,send}from\"xstate\";import{useMachine,asEffect}from\"@xstate/react\";import{dmMachine}from'./dmGame';//Animation effects\nimport Confetti from'react-dom-confetti';import TextLoop from\"react-text-loop\";import{useWindupString}from\"windups\";// import HeadShake from 'react-reveal/HeadShake';\nvar HeadShake=require('react-reveal/HeadShake');//?import shows error in TS, so use require() here instead\nvar RubberBand=require('react-reveal/RubberBand');import Tippy from'@tippyjs/react';//Browser detection \nimport{isChrome,isEdge}from\"react-device-detect\";// import { inspect } from \"@xstate/inspect\";\n// inspect({ url:\"https://statecharts.io/inspect\", iframe: false });\n// State machines: ASR-TTS (voice interface) & dmGame\nimport{useSpeechSynthesis,useSpeechRecognition}from'react-speech-kit';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var machine=Machine({id:'root',type:'parallel',states:{dm:_objectSpread({},dmMachine),asrtts:{initial:'idle',states:{idle:{on:{LISTEN:'recognising',SPEAK:{target:'speaking',actions:assign(function(_context,event){return{ttsAgenda:event.value};})}}},recognising:{initial:'progress',entry:'recStart',exit:'recStop',on:{ASRRESULT:{actions:['recLogResult',assign(function(_context,event){return{recResult:event.value};})],target:'.match'},RECOGNISED:'idle'},states:{progress:{},match:{entry:send('RECOGNISED')}}},speaking:{entry:'ttsStart',on:{ENDSPEECH:'idle'}}}}}},{actions:{recLogResult:function recLogResult(context){/* context.recResult = event.recResult; */console.log('<< ASR: '+context.recResult);},test:function test(){console.log('test');},logIntent:function logIntent(context){/* context.nluData = event.data */console.log('<< NLU intent: '+context.nluData.intent.name);}}});//COMPONENT: Big button in the middle, with changing texts\nvar ReactiveButton=function ReactiveButton(props){var playingNow=props.state.context.playingNow;var ttsAgenda=props.state.context.ttsAgenda;var speakingText=playingNow?'😼 '+ttsAgenda:'😻 '+ttsAgenda;var promptMsg=playingNow?\"...or say Clue, Skip, Restart, Stop \":\"...say Yes or No\";switch(true){case props.state.matches({asrtts:'recognising'}):return/*#__PURE__*/_jsx(\"button\",_objectSpread(_objectSpread({type:\"button\",className:\"glow-on-hover\",style:{animation:\"glowing 20s linear\"}},props),{},{children:/*#__PURE__*/_jsxs(TextLoop,{mask:true,interval:5000,springConfig:{stiffness:170,damping:8},children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"code\",{children:[\" \",speakingText,\" \"]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"code\",{children:[\" \",promptMsg,\" \"]})})]})}));case props.state.matches({asrtts:'speaking'}):var _useWindupString=useWindupString(speakingText),_useWindupString2=_slicedToArray(_useWindupString,1),spokentext=_useWindupString2[0];// adds char-by-char animation\nreturn/*#__PURE__*/_jsx(\"button\",_objectSpread(_objectSpread({type:\"button\",className:\"glow-on-hover\",style:{animation:\"bordering 1s infinite\"}},props),{},{children:/*#__PURE__*/_jsx(\"code\",{children:spokentext})}));default:return/*#__PURE__*/_jsx(\"button\",_objectSpread(_objectSpread({type:\"button\",className:\"glow-on-hover\"},props),{},{children:/*#__PURE__*/_jsx(HeadShake,{children:\"Play game!\"})}));}};// //MAIN CONTAINER: React webpage elements & VOI\nexport default function App(){//Voice interface events (& console logs)\nvar _useSpeechSynthesis=useSpeechSynthesis({onEnd:function onEnd(){send('ENDSPEECH');}}),speak=_useSpeechSynthesis.speak,cancel=_useSpeechSynthesis.cancel,speaking=_useSpeechSynthesis.speaking;var _useSpeechRecognition=useSpeechRecognition({onResult:function onResult(result){send({type:\"ASRRESULT\",value:result});}}),listen=_useSpeechRecognition.listen,listening=_useSpeechRecognition.listening,stop=_useSpeechRecognition.stop;var _useMachine=useMachine(machine,{devTools:true,actions:{recStart:asEffect(function(){console.log('Ready to receive a voice input.');listen({interimResults:false,continuous:true});}),recStop:asEffect(function(){console.log('Recognition stopped.');stop();}),ttsStart:asEffect(function(context,effect){console.log('Speaking...');speak({text:context.ttsAgenda});}),ttsCancel:asEffect(function(context,effect){console.log('TTS STOP...');cancel();}),speak:asEffect(function(context){console.log('Speaking...');speak({text:context.ttsAgenda});})}}),_useMachine2=_slicedToArray(_useMachine,3),current=_useMachine2[0],send=_useMachine2[1],service=_useMachine2[2];// dmMachine-context / React-states, to display on webpage or turn components on/off\nvar confettiSwitch=current.context.confettiSwitch;//triggers confetti when true\nvar playingNow=current.context.playingNow;var tally=current.context.tally;// Config for confetti \nvar confettiConfig={angle:90,spread:360,startVelocity:80,elementCount:400,dragFriction:0.12,duration:7500,stagger:1,width:\"7px\",height:\"7px\",perspective:\"210px\",colors:[\"#a864fd\",\"#29cdff\",\"#78ff44\",\"#ff718d\",\"#fdff6a\"]};var clicked=0;var handleClick=function handleClick(){if(clicked===0){console.log(\"clicked\");send('CLICK');clicked=1;}else{console.log(\"unclicked\");send('UNCLICK');clicked=0;}};//>>>JSX codes & various components\n// Alt page: Show if not using Chrome or Edge\nif(!isChrome&&!isEdge)return/*#__PURE__*/_jsx(\"div\",{className:\"OtherBrowsers\",children:/*#__PURE__*/_jsx(HeadShake,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"Box\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Speech Recognition Not Supported :( \"}),/*#__PURE__*/_jsx(\"p\",{children:\"I won't be able to hear you on this browser.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Please try Chrome or Edge. :-)\"})]})})});//Show if using Chrome or Edge\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(PopoverButtons,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"LetterAndHeart\",id:\"LetterAndHeart\",children:[/*#__PURE__*/_jsx(YourLetter,{state:current}),playingNow&&/*#__PURE__*/_jsx(HeartBar,{currentScore:tally,maxScore:5,size:50})]}),/*#__PURE__*/_jsx(Confetti,{active:confettiSwitch,config:confettiConfig}),/*#__PURE__*/_jsx(RubberBand,{children:/*#__PURE__*/_jsx(ReactiveButton,{state:current,onClick:function onClick(){handleClick();}})}),/*#__PURE__*/_jsx(UserSubtitles,{state:current})]});};//COMPONENT: Displaying input of voice interface (ie, recResult)\nvar UserSubtitles=function UserSubtitles(props){// Player's speech-- only displays when recResult!=undefined \nvar tally=props.state.context.tally;// const {recResult} = props.state.context\nvar recResult=\"this is test text\";//Prefix face changes based on score of the game\nvar emojis=['😗','🙂','😀','😄','😁','🥳'];var emoji=tally?emojis[tally]:'🙃';var subtitlesText=recResult?recResult:'';var _useWindupString3=useWindupString(subtitlesText),_useWindupString4=_slicedToArray(_useWindupString3,1),textAnimated=_useWindupString4[0];return/*#__PURE__*/_jsxs(\"div\",{className:\"emoji-and-bubble\",id:\"emoji-and-bubble\",children:[recResult&&/*#__PURE__*/_jsxs(\"div\",{className:\"speech-bubble\",id:\"speech-bubble\",children:[\" \",textAnimated,\" \"]}),recResult&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h4\",{children:emoji})})]});};//COMPONENT: Capital letter of the game\nvar YourLetter=function YourLetter(props){// Shows the letter of the current game round \nvar letter=props.state.context.letter;return/*#__PURE__*/_jsx(\"div\",{className:\"GlowLetter\",id:\"GlowLetter\",children:letter?letter.toUpperCase():''});};//COMPONENT: Grey heart to be filled with pink, based on percentage\nvar HeartBar=function HeartBar(props){var maxScore=props.maxScore;var currentScore=props.currentScore>0?props.currentScore:'';var size=props.size;var percentage=currentScore?100*currentScore/maxScore:0;//add other props? eg, showScore={true/false}; showPercentage={true/false}\nvar y=24-24*percentage/100;//Height of the pink filling shape\n//Below: Heart-shaped vector graphs & text inside\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"Heart\",id:\"Heart\",children:/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:size,height:size,viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsxs(\"defs\",{children:[/*#__PURE__*/_jsx(\"clipPath\",{id:\"cut-off-bottom\",children:/*#__PURE__*/_jsx(\"rect\",{x:\"0\",y:y,width:\"24\",height:\"24\"})}),/*#__PURE__*/_jsxs(\"linearGradient\",{id:\"grey-grad\",x1:\"0%\",y1:\"0%\",x2:\"0%\",y2:\"100%\",children:[/*#__PURE__*/_jsx(\"stop\",{offset:\"0%\",stopColor:\"#cfccce\",stopOpacity:\"0.75\"}),/*#__PURE__*/_jsx(\"stop\",{offset:\"60%\",stopColor:\"#bab8ba\",stopOpacity:\"0.85\"}),/*#__PURE__*/_jsx(\"stop\",{offset:\"100%\",stopColor:\"#949293\",stopOpacity:\"0.9\"})]}),/*#__PURE__*/_jsxs(\"linearGradient\",{id:\"pink-grad\",x1:\"0%\",y1:\"0%\",x2:\"0%\",y2:\"100%\",children:[/*#__PURE__*/_jsx(\"stop\",{offset:\"0%\",stopColor:\"#ff33a7\",stopOpacity:\"0.95\"}),/*#__PURE__*/_jsx(\"stop\",{offset:\"60%\",stopColor:\"#ff2667\",stopOpacity:\"0.95\"}),/*#__PURE__*/_jsx(\"stop\",{offset:\"100%\",stopColor:\"rgb(255,0,0)\",stopOpacity:\"0.95\"})]})]}),/*#__PURE__*/_jsx(\"path\",{style:{fill:\"url(#grey-grad)\"},d:\"M12 4.248c-3.148-5.402-12-3.825-12 2.944 0 4.661 5.571 9.427 12 15.808 6.43-6.381 12-11.147 12-15.808 0-6.792-8.875-8.306-12-2.944z\"}),/*#__PURE__*/_jsx(\"path\",{style:{fill:\"url(#pink-grad)\"},d:\"M12 4.248c-3.148-5.402-12-3.825-12 2.944 0 4.661 5.571 9.427 12 15.808 6.43-6.381 12-11.147 12-15.808 0-6.792-8.875-8.306-12-2.944z\",clipPath:\"url(#cut-off-bottom)\"}),/*#__PURE__*/_jsx(\"text\",{textAnchor:\"middle\",x:\"12\",y:\"15\",color:\"white\",fontSize:\"11\",fill:\"white\",opacity:\"0.45\",style:{animation:\"wiggle 2.5s ease-out infinite\",animationDelay:'0.9s'},children:currentScore})]})});};var PopoverButtons=function PopoverButtons(){return/*#__PURE__*/_jsxs(\"div\",{className:\"PopoverButtons\",id:\"PopoverButtons\",children:[/*#__PURE__*/_jsx(Tippy,{content:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Having troubles playing? :\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Due to limitations of the voice recogniser, these might help... \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),\"-Speak in a North American accent.\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),\"-After the cat finishes talking, wait for a sec for it to start listening to you (indicated by the \",/*#__PURE__*/_jsx(\"strong\",{children:\"flashing button\"}),\").\"]})]}),className:\"popover-box\",children:/*#__PURE__*/_jsx(\"button\",{className:\"round-button\",children:/*#__PURE__*/_jsx(\"h6\",{children:\"?\"})})}),/*#__PURE__*/_jsx(Tippy,{content:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"ABC Game\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Designed & made by: \",/*#__PURE__*/_jsx(\"br\",{}),\"Liao Hsien-hao Calvin\",/*#__PURE__*/_jsx(\"br\",{}),\"Eirini Tsakiri \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),\"for the project of \",/*#__PURE__*/_jsx(\"strong\",{children:\"LT2216 Dialogue Systems\"}),\" at G\\xF6teborgs universitet.\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),\"github.com/chickenbror/ABCgame\"]})]}),className:\"popover-box\",children:/*#__PURE__*/_jsx(\"button\",{className:\"round-button\",children:/*#__PURE__*/_jsx(\"h6\",{children:\"i\"})})})]});};","map":{"version":3,"sources":["C:/CodingProjects/ABCgame/src/App.tsx"],"names":["React","Machine","assign","send","useMachine","asEffect","dmMachine","Confetti","TextLoop","useWindupString","HeadShake","require","RubberBand","Tippy","isChrome","isEdge","useSpeechSynthesis","useSpeechRecognition","machine","id","type","states","dm","asrtts","initial","idle","on","LISTEN","SPEAK","target","actions","_context","event","ttsAgenda","value","recognising","entry","exit","ASRRESULT","recResult","RECOGNISED","progress","match","speaking","ENDSPEECH","recLogResult","context","console","log","test","logIntent","nluData","intent","name","ReactiveButton","props","playingNow","state","speakingText","promptMsg","matches","animation","stiffness","damping","spokentext","App","onEnd","speak","cancel","onResult","result","listen","listening","stop","devTools","recStart","interimResults","continuous","recStop","ttsStart","effect","text","ttsCancel","current","service","confettiSwitch","tally","confettiConfig","angle","spread","startVelocity","elementCount","dragFriction","duration","stagger","width","height","perspective","colors","clicked","handleClick","UserSubtitles","emojis","emoji","subtitlesText","textAnimated","YourLetter","letter","toUpperCase","HeartBar","maxScore","currentScore","size","percentage","y","fill","animationDelay","PopoverButtons"],"mappings":"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","sourcesContent":["\r\nimport * as React from \"react\";\r\n\r\n//XState library & Game DM-machine\r\nimport { Machine, assign, send, State } from \"xstate\";\r\nimport { useMachine, asEffect } from \"@xstate/react\";\r\nimport { dmMachine } from './dmGame';\r\n\r\n\r\n//Animation effects\r\nimport Confetti from 'react-dom-confetti';\r\nimport TextLoop from \"react-text-loop\";\r\nimport { useWindupString } from \"windups\";\r\n        // import HeadShake from 'react-reveal/HeadShake';\r\nconst HeadShake = require('react-reveal/HeadShake'); //?import shows error in TS, so use require() here instead\r\nconst RubberBand = require('react-reveal/RubberBand');\r\n\r\nimport Tippy from '@tippyjs/react';\r\n\r\n\r\n\r\n//Browser detection \r\nimport { isChrome, isEdge } from \"react-device-detect\";\r\n\r\n\r\n// import { inspect } from \"@xstate/inspect\";\r\n// inspect({ url:\"https://statecharts.io/inspect\", iframe: false });\r\n\r\n\r\n// State machines: ASR-TTS (voice interface) & dmGame\r\nimport { useSpeechSynthesis, useSpeechRecognition } from 'react-speech-kit';\r\n\r\nconst machine = Machine<SDSContext, any, SDSEvent>({\r\n    id: 'root',\r\n    type: 'parallel',\r\n    states: {\r\n        dm: {\r\n            ...dmMachine  //dmGame\r\n        },\r\n        asrtts: {\r\n            initial: 'idle',\r\n            states: {\r\n                idle: {\r\n                    on: {\r\n                        LISTEN: 'recognising',\r\n                        SPEAK: {\r\n                            target: 'speaking',\r\n                            actions: assign((_context, event) => { return { ttsAgenda: event.value } })\r\n                        }\r\n                    }\r\n                },\r\n                recognising: {\r\n                    initial: 'progress',\r\n                    entry: 'recStart',\r\n                    exit: 'recStop',\r\n                    on: {\r\n                        ASRRESULT: {\r\n                            actions: ['recLogResult',\r\n                                assign((_context, event) => { return { recResult: event.value } })],\r\n                            target: '.match'\r\n                        },\r\n                        RECOGNISED: 'idle'\r\n                    },\r\n                    states: {\r\n                        progress: {\r\n                        },\r\n                        match: {\r\n                            entry: send('RECOGNISED'),\r\n                        },\r\n                    }\r\n                },\r\n                speaking: {\r\n                    entry: 'ttsStart',\r\n                    on: {\r\n                        ENDSPEECH: 'idle',\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n},\r\n    {\r\n        actions: {\r\n            recLogResult: (context: SDSContext) => {\r\n                /* context.recResult = event.recResult; */\r\n                console.log('<< ASR: ' + context.recResult);\r\n\r\n            },\r\n            test: () => {\r\n                console.log('test')\r\n            },\r\n            logIntent: (context: SDSContext) => {\r\n                /* context.nluData = event.data */\r\n                console.log('<< NLU intent: ' + context.nluData.intent.name)\r\n            }\r\n        },\r\n    });\r\n\r\n\r\n\r\ninterface Props extends React.HTMLAttributes<HTMLElement> {\r\n    state: State<SDSContext, any, any, any>;  //==dm context >>access via props.state.context\r\n}\r\n//COMPONENT: Big button in the middle, with changing texts\r\nconst ReactiveButton = (props: Props,): JSX.Element => {\r\n    const {playingNow} = props.state.context\r\n    const {ttsAgenda} = props.state.context\r\n    let speakingText= playingNow? '😼 '+ttsAgenda : '😻 '+ttsAgenda\r\n    let promptMsg = playingNow? \"...or say Clue, Skip, Restart, Stop \" : \"...say Yes or No\"\r\n\r\n    switch (true) {\r\n        case props.state.matches({ asrtts: 'recognising' }):\r\n            return (\r\n                <button type=\"button\" className=\"glow-on-hover\"\r\n                    style={{ animation: \"glowing 20s linear\"}} {...props}>\r\n                    {/* Listening... */}\r\n\r\n                    <TextLoop mask={true} interval={5000} springConfig={{ stiffness: 170, damping: 8 }} >\r\n                        <div><code> {speakingText} </code></div>\r\n                        <div><code> {promptMsg} </code></div>\r\n                    </TextLoop>\r\n\r\n                </button>\r\n            );\r\n        case props.state.matches({ asrtts: 'speaking' }):\r\n            \r\n            const [spokentext] = useWindupString(speakingText); // adds char-by-char animation\r\n            return (\r\n                <button type=\"button\" className=\"glow-on-hover\"\r\n                    style={{ animation: \"bordering 1s infinite\" }} {...props}>\r\n                    {/* Speaking... */}\r\n                    <code>{spokentext}</code>\r\n                </button>\r\n            );\r\n        default:\r\n            return (\r\n                <button type=\"button\" className=\"glow-on-hover\" {...props}>\r\n                    <HeadShake>Play game!</HeadShake>\r\n                </button >\r\n            );\r\n    }\r\n}\r\n\r\n// //MAIN CONTAINER: React webpage elements & VOI\r\nexport default function App() {\r\n    \r\n    //Voice interface events (& console logs)\r\n    const { speak, cancel, speaking } = useSpeechSynthesis({\r\n        onEnd: () => {send('ENDSPEECH') },\r\n    });\r\n    const { listen, listening, stop } = useSpeechRecognition({\r\n        onResult: (result: any) => {send({ type: \"ASRRESULT\", value: result })  },\r\n    });\r\n    const [current, send, service] = useMachine(machine, {\r\n        devTools: true,\r\n        actions: {\r\n            recStart: asEffect(() => {\r\n                console.log('Ready to receive a voice input.');\r\n                listen({\r\n                    interimResults: false,\r\n                    continuous: true\r\n                });\r\n            }),\r\n            recStop: asEffect(() => {\r\n                console.log('Recognition stopped.');\r\n                stop()\r\n            }),\r\n            ttsStart: asEffect((context, effect) => {\r\n                console.log('Speaking...');\r\n                speak({ text: context.ttsAgenda })\r\n            }),\r\n            ttsCancel: asEffect((context, effect) => {\r\n                console.log('TTS STOP...');\r\n                cancel()\r\n            }),\r\n            speak: asEffect((context) => {\r\n\t            console.log('Speaking...');\r\n                speak({text: context.ttsAgenda })\r\n            }) \r\n        }\r\n    });\r\n\r\n    // dmMachine-context / React-states, to display on webpage or turn components on/off\r\n    const { confettiSwitch } = current.context; //triggers confetti when true\r\n    const { playingNow } = current.context;\r\n    const { tally } = current.context;\r\n    \r\n    // Config for confetti \r\n    const confettiConfig = {\r\n        angle: 90,\r\n        spread: 360,\r\n        startVelocity: 80,\r\n        elementCount: 400,\r\n        dragFriction: 0.12,\r\n        duration: 7500,\r\n        stagger: 1,\r\n        width: \"7px\",\r\n        height: \"7px\",\r\n        perspective: \"210px\",\r\n        colors: [\"#a864fd\", \"#29cdff\", \"#78ff44\", \"#ff718d\", \"#fdff6a\"]\r\n      };\r\n    \r\n    let clicked=0;\r\n    const handleClick = () =>{ \r\n        if(clicked===0){ console.log(\"clicked\"); send('CLICK'); clicked=1 }\r\n        else{ console.log(\"unclicked\"); send('UNCLICK'); clicked=0 }\r\n    }\r\n\r\n    //>>>JSX codes & various components\r\n    \r\n    // Alt page: Show if not using Chrome or Edge\r\n    if(!isChrome && !isEdge)\r\n    return (\r\n        <div className='OtherBrowsers'>  \r\n            <HeadShake>\r\n            <div className='Box'>   \r\n                <h1>Speech Recognition Not Supported :( </h1>\r\n                <p>I won't be able to hear you on this browser.</p>\r\n                <p>Please try Chrome or Edge. :-)</p>\r\n            </div>\r\n            </HeadShake>\r\n        </div>\r\n      )\r\n\r\n    //Show if using Chrome or Edge\r\n    return (\r\n        <div className='App'>\r\n                <PopoverButtons/>\r\n                \r\n                <div className=\"LetterAndHeart\" id='LetterAndHeart'>\r\n                    <YourLetter state={current}/>\r\n                    {playingNow && <HeartBar currentScore={tally} maxScore={5} size={50} />  }\r\n                </div>\r\n                \r\n                <Confetti active={ confettiSwitch } config={ confettiConfig }/> \r\n\r\n                <RubberBand>\r\n                    <ReactiveButton state={current} onClick={() => {handleClick()}} /> \r\n                </RubberBand>\r\n\r\n                <UserSubtitles state={current}/>\r\n            \r\n        </div>\r\n    )\r\n};\r\n\r\n//COMPONENT: Displaying input of voice interface (ie, recResult)\r\nconst UserSubtitles=(props:Props) =>{\r\n    // Player's speech-- only displays when recResult!=undefined \r\n\r\n    const {tally} = props.state.context\r\n    // const {recResult} = props.state.context\r\n    const recResult=\"this is test text\"\r\n\r\n    //Prefix face changes based on score of the game\r\n    const  emojis=['😗','🙂','😀','😄','😁','🥳']\r\n    let emoji = tally? emojis[tally]:'🙃'\r\n\r\n    const subtitlesText = recResult? recResult : ''\r\n    const [textAnimated] = useWindupString(subtitlesText)\r\n\r\n    return(\r\n        <div className=\"emoji-and-bubble\" id=\"emoji-and-bubble\">\r\n            {recResult && <div className=\"speech-bubble\" id=\"speech-bubble\"> {textAnimated} </div>}\r\n            {recResult && <div ><h4>{emoji}</h4></div>}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n//COMPONENT: Capital letter of the game\r\nconst YourLetter=(props:Props) =>{\r\n    // Shows the letter of the current game round \r\n    const {letter} = props.state.context\r\n    return(\r\n        <div className=\"GlowLetter\" id=\"GlowLetter\"> \r\n            {letter? letter.toUpperCase():''}\r\n        </div> \r\n    )\r\n}\r\n\r\n//COMPONENT: Grey heart to be filled with pink, based on percentage\r\nconst HeartBar = (props:any) => {\r\n    \r\n    const maxScore = props.maxScore\r\n    const currentScore = props.currentScore>0? props.currentScore : ''\r\n    const size = props.size\r\n    const percentage = currentScore? 100*currentScore/maxScore : 0\r\n    //add other props? eg, showScore={true/false}; showPercentage={true/false}\r\n\r\n\r\n    const y = 24 - (24 * percentage) / 100; //Height of the pink filling shape\r\n\r\n    //Below: Heart-shaped vector graphs & text inside\r\n    return (\r\n      <div className=\"Heart\" id='Heart'>\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          width={size}\r\n          height={size}\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <defs>\r\n            <clipPath id=\"cut-off-bottom\">\r\n              <rect x=\"0\" y={y} width=\"24\" height=\"24\" />\r\n            </clipPath>\r\n          \r\n            <linearGradient id=\"grey-grad\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\r\n                <stop offset=\"0%\" stopColor=\"#cfccce\" stopOpacity=\"0.75\" />\r\n                <stop offset=\"60%\" stopColor=\"#bab8ba\" stopOpacity=\"0.85\" />\r\n                <stop offset=\"100%\" stopColor=\"#949293\" stopOpacity=\"0.9\" />\r\n            </linearGradient>\r\n\r\n            <linearGradient id=\"pink-grad\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\r\n                <stop offset=\"0%\" stopColor=\"#ff33a7\" stopOpacity=\"0.95\" />\r\n                <stop offset=\"60%\" stopColor=\"#ff2667\" stopOpacity=\"0.95\" />\r\n                <stop offset=\"100%\" stopColor=\"rgb(255,0,0)\" stopOpacity=\"0.95\" />\r\n            </linearGradient>\r\n\r\n          </defs>\r\n          \r\n          <path\r\n            style={{ fill: \"url(#grey-grad)\" }}\r\n            d=\"M12 4.248c-3.148-5.402-12-3.825-12 2.944 0 4.661 5.571 9.427 12 15.808 6.43-6.381 12-11.147 12-15.808 0-6.792-8.875-8.306-12-2.944z\"\r\n            />\r\n\r\n          <path\r\n            style={{ fill: \"url(#pink-grad)\", }}\r\n            d=\"M12 4.248c-3.148-5.402-12-3.825-12 2.944 0 4.661 5.571 9.427 12 15.808 6.43-6.381 12-11.147 12-15.808 0-6.792-8.875-8.306-12-2.944z\"\r\n            clipPath=\"url(#cut-off-bottom)\"\r\n            />\r\n\r\n          <text textAnchor=\"middle\" x=\"12\" y=\"15\" color=\"white\" fontSize=\"11\" fill=\"white\" opacity=\"0.45\"\r\n                style={{animation: \"wiggle 2.5s ease-out infinite\", animationDelay:'0.9s'}}>\r\n            {currentScore} \r\n          </text>\r\n\r\n        </svg>\r\n      </div>\r\n    );\r\n  };\r\n\r\nconst PopoverButtons = () => {\r\n\r\n\r\n    return (\r\n        <div className=\"PopoverButtons\" id=\"PopoverButtons\">\r\n\r\n            <Tippy content={\r\n                <div>\r\n                <h4>Having troubles playing? :</h4>\r\n            \r\n                    <p>\r\n                    Due to limitations of the voice recogniser, these might help... <br></br><br></br>\r\n                    -Speak in a North American accent.<br></br><br></br>\r\n                    -After the cat finishes talking, wait for a sec for it to start listening to you\r\n                    (indicated by the <strong>flashing button</strong>).\r\n                    </p>\r\n                </div>\r\n            } className=\"popover-box\">\r\n                <button className=\"round-button\"><h6>?</h6></button>\r\n            </Tippy>\r\n\r\n            <Tippy content={\r\n                    <div>\r\n                    <h4>ABC Game</h4>\r\n                        <p>\r\n                        Designed & made by: <br></br>\r\n                        Liao Hsien-hao Calvin<br></br>\r\n                        Eirini Tsakiri <br></br><br></br>\r\n                        for the project of <strong>LT2216 Dialogue Systems</strong> at Göteborgs universitet.\r\n                        <br></br><br></br>\r\n                        github.com/chickenbror/ABCgame\r\n                        </p>\r\n                    </div>\r\n            }  className=\"popover-box\">\r\n                <button className=\"round-button\"><h6>i</h6></button>\r\n            </Tippy>\r\n\r\n\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}