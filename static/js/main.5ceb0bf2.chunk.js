(this["webpackJsonpxstate-react-typescript-template"]=this["webpackJsonpxstate-react-typescript-template"]||[]).push([[0],{107:function(e){e.exports=JSON.parse('{"questions":[{"category":"a day of the week","answers":["monday","tuesday","wednesday","thursday","friday","saturday","sunday"]},{"category":"a fruit","answers":["apple","avocado","apricot","banana","cantaloupe","cherries","cherry","clementine","date","grapefruit","grapes","grape","honeydew","melon","lemon","lime","mandarin","orange","mango","orange","papaya","peach","pear","pineapple","plantain","plum","pomelo","tangerine","watermelon","strawberry","blueberry","litchi","lingonberry","dragonfruit","tomato","pawpaw","lychee","kiwifruit","jackfruit","durian","guava","passionfruit"]},{"category":"an EU country","answers":["austria","belgium","bulgaria","croatia","cyprus","czech republic","czechia","denmark","estonia","finland","france","germany","greece","hungary","ireland","italy","latvia","lithuania","luxembourg","malta","netherlands","holland","poland","portugal","romania","slovakia","slovenia","spain","sweden"]},{"category":"a name of a month","answers":["january","february","march","april","may","june","july","august","september","october","november","december"]},{"category":"a country that has won Eurovision","answers":["luxembourg","portugal","switzerland","russia","sweden","estonia","serbia","monaco","denmark","israel","norway","greece","france","spain","azerbaijan","belgium","italy","yugoslavia","finland","latvia","germany","ireland","austria","turkey","united kingdom","ukraine","netherlands"]},{"category":"a country in Asia","answers":["china","india","kazakhstan","saudi arabia","iran","mongolia","indonesia","pakistan","turkey","myanmar","afghanistan","yemen","thailand","turkmenistan","uzbekistan","iraq","japan","vietnam","malaysia","oman","philippines","philippine","laos","lao","kyrgyzstan","syria","cambodia","bangladesh","nepal","tajikistan","north korea","south korea","korea","jordan","azerbaijan","united arab emirates","uae","georgia","sri lanka","bhutan","taiwan","armenia","israel","kuwait","east timor","qatar","lebanon","cyprus","northern cyprus","palestine","brunei","bahrain","singapore","maldives"]},{"category":"a capital city in Europe","answers":["amsterdam","andorra la vella","ankara","athens","baku","belgrade","berlin","bern","bratislava","brussels","bucharest","budapest","chisinau","kishinev","copenhagen","dublin","helsinki","kyiv","lisbon","ljubljana","london","luxembourg","madrid","minsk","monaco","moscow","nicosia","nur-sultan","oslo","paris","podgorica","prague","reykjavik","riga","rome","san marino","sarajevo","skopje","sofia","stockholm","tallinn","tbilisi","tirana","vaduz","valletta","vatican","vatican city","vienna","vilnius","warsaw","yerevan","zagreb","north nicosia","pristina","stepanakert","sukhumi","tiraspol","tskhinvali","south ossetia"]},{"category":"a common pet animal","answers":["bird","fish","mouse","rat","dog","cat","gerbil","hamster","spider","snake","ferret","goldfish","turtle","rabbit","pig","goat","guinea","pig","frog","hedgehog","horse","chicken","duck","goose","budgie","parrot","canary"]},{"category":"a vegetable","answers":["watercress","brussels sprout","pumpkin","squash","mushroom","bakchoy","kale","rocket","broccoli","spinach","carrot","beetroot","celery","zucchini","potato","onion","cucumber","eggplant","aubergine","corn","cauliflower","asparagus","cabbage"]},{"category":"a family member","answers":["dad","mom","mum","mother","father","sister","brother","auntie","aunt","uncle","cousin","niece","nephew","grandfather","grandmother","grandma","grandpa","granny","nanna","pappa","papa","mama","mamma","mommy"]},{"category":"a continent","answers":["america","australia","north america","south america","africa","asia","europe","antarctica"]},{"category":"a social media website or app","answers":["facebook","tik tok","twitter","instagram","snapchat","youtube"]}]}')},280:function(e,t,a){"use strict";a.r(t);a(57),a(8);var n=a(96),r=a(101),i=a(14),o=a(284),s=a(6),c=a(283),u=a(55),l=a(97),p=a(107);function g(e){var t=p.questions,a=[];return t.forEach((function(t){var n=t.answers,r=[];n.forEach((function(t){t[0]===e&&r.push(t)})),r.length>0&&a.push(t)})),a}function h(e){return e[e.length*Math.random()|0]}function d(){for(var e,t,a=!1;!1===a;)(t=g(e=h("abcdefghijklmnopqrstvvwxyz"))).length>=5&&(a=!0);return t.forEach((function(t){var a=t.answers,n=[];a.forEach((function(t){t[0]===e&&n.push(t)})),t.answers=n})),t=function(e){for(var t=e.length;0!==t;){var a=Math.floor(Math.random()*t),n=e[t-=1];e[t]=e[a],e[a]=n}return e}(t),[e,t]}var b=function e(t,a){Object(l.a)(this,e),this.letter=t,this.ques=a};function y(){var e=d(),t=e[0],a=e[1];return new b(t,a)}var m=new(a(108).NounInflector),f=Object(s.b)((function(e){return{recResult:""}})),j=Object(s.b)((function(e){return{ttsAgenda:""}})),v=Object(s.b)((function(e){return{tally:void 0}})),k=Object(s.b)((function(e){return{letter:void 0}})),O=Object(s.b)((function(e){return{confettiSwitch:!0}})),w=Object(s.b)((function(e){return{confettiSwitch:!1}})),S=Object(s.b)((function(e){var t=y();return{letter:t.letter,questions:t.ques,tally:0,confettiSwitch:!1}}));function E(e){var t=e.letter;return"Your letter is ".concat(t.toUpperCase()," for ").concat({a:"Adam",b:"Bella",c:"Cindy",d:"Daniel",e:"Eva",f:"Francesca",g:"Gabriel",h:"Harry",i:"Ida",j:"Julia",k:"Kevin",l:"Laura",m:"Michael",n:"Nicole",o:"Oscar",p:"Paula",q:"Quebec",r:"Rachel",s:"Sara",t:"Tina",u:"unique",v:"Victoria",w:"window",x:"x-ray",y:"yesman",z:"zero"}[t],". ")}function x(e){var t=e.questions[0].category;return"Name ".concat(t,". ")}function C(e){var t=h(e.questions[0].answers);if(t.length>=3){var a=t.slice(0,3).toUpperCase();return"Spelled with ".concat(a[0],", ").concat(a[1],", ").concat(a[2],".")}var n=t.slice(0,2).toUpperCase();return"Spelled with ".concat(n[0],", ").concat(n[1],", ").concat(n[2],".")}function R(e){return Object(s.k)((function(t){return{type:"SPEAK",value:e}}))}function N(){return[{target:"stop",cond:function(e){return"stop"===A(e.recResult)}},{target:"restart",cond:function(e){return"restart"===A(e.recResult)}},{target:"winning",cond:function(e){return"shortcut"===A(e.recResult)}},{target:".nomatch"}]}function P(e){return{initial:"prompt",states:{prompt:{entry:e,on:{ENDSPEECH:"ask"}},ask:{entry:Object(s.k)("LISTEN")},nomatch:{entry:[R("Try again")],on:{ENDSPEECH:"prompt"}}}}}function q(e,t){return t.some((function(t){return e.includes(t)}))}function A(e){return q(e=e.toLowerCase(),["yes","of course","sure","absolutely","yeah","yep","okay","ok"])?"yes":q(e,["no","nope","no thanks","nah"])?"no":q(e,["skip","pass","next"])?"pass":q(e,["hint","clue","help"])?"hint":q(e,["letter","repeat"])?"whatletter":q(e,["stop","end the game","shut down"])?"stop":q(e,["restart","start again","reboot"])?"restart":q(e,["short cut","shortcut"])?"shortcut":void 0}var z={initial:"init",states:{init:{on:{CLICK:"start"}},stop:{entry:R("Ok bye!"),on:{ENDSPEECH:{actions:[v,k,j,f,w],target:"init"}}},start:{entry:R("Starting the game "),on:{ENDSPEECH:{actions:[S,j,f],target:"sayletter"}}},restart:{entry:R("Ok, starting over"),on:{ENDSPEECH:{actions:[S,j,f],target:"sayletter"}}},sayletter:{entry:Object(s.k)((function(e){return{type:"SPEAK",value:E(e)}})),on:{ENDSPEECH:"askQues"}},askQues:Object(i.a)({on:{RECOGNISED:[{cond:function(e){return function(e,t){var a=e.toLowerCase(),n=m.singularize(a),r=t.questions[0].answers;return q(a,r)||q(n,r)}(e.recResult,e)},actions:Object(s.b)((function(e){return e.questions.shift(),{tally:e.tally+1}})),target:"checkscore"},{cond:function(e){return"pass"===A(e.recResult)},actions:Object(s.b)((function(e){var t=e.questions.shift();return e.questions.push(t),{}})),target:"checkscore"},{cond:function(e){return"hint"===A(e.recResult)},target:"hint"},{cond:function(e){return"whatletter"===A(e.recResult)},target:"sayletter"}].concat(Object(u.a)(N()))}},P(Object(s.k)((function(e){return{type:"SPEAK",value:x(e)}})))),hint:{entry:Object(s.k)((function(e){return{type:"SPEAK",value:C(e)}})),always:"checkscore"},checkscore:{always:[{target:"askQues",cond:function(e){return e.tally<5}},{target:"winning",cond:function(e){return e.tally>=5}}]},winning:{entry:[R("Winner winner chicken dinner"),O,k,f,j],on:{ENDSPEECH:{target:"playagain"}}},playagain:Object(i.a)({entry:[v,w],on:{RECOGNISED:[{cond:function(e){return"yes"===A(e.recResult)},target:"restart"},{cond:function(e){return"no"===A(e.recResult)},target:"stop"}].concat(Object(u.a)(N()))}},P(R("Want to play again?")))}},D=a(98),L=a.n(D),I=a(102),H=a(52),T=a(7),K=Object(o.a)({id:"root",type:"parallel",states:{dm:Object(i.a)({},z),asrtts:{initial:"idle",states:{idle:{on:{LISTEN:"recognising",SPEAK:{target:"speaking",actions:Object(s.b)((function(e,t){return{ttsAgenda:t.value}}))}}},recognising:{initial:"progress",entry:"recStart",exit:"recStop",on:{ASRRESULT:{actions:["recLogResult",Object(s.b)((function(e,t){return{recResult:t.value}}))],target:".match"},RECOGNISED:"idle"},states:{progress:{},match:{entry:Object(s.k)("RECOGNISED")}}},speaking:{entry:"ttsStart",on:{ENDSPEECH:"idle"}}}}}},{actions:{recLogResult:function(e){console.log("<< ASR: "+e.recResult)},test:function(){console.log("test")},logIntent:function(e){console.log("<< NLU intent: "+e.nluData.intent.name)}}}),U=function(e){switch(!0){case e.state.matches({asrtts:"recognising"}):return Object(T.jsx)("button",Object(i.a)(Object(i.a)({type:"button",className:"glow-on-hover",style:{animation:"glowing 20s linear"}},e),{},{children:Object(T.jsxs)(I.a,{mask:!0,springConfig:{stiffness:160,damping:8},className:"keywordPrompts",children:[Object(T.jsx)("div",{children:"Listening..."}),Object(T.jsx)("div",{children:'Say "hint"'}),Object(T.jsx)("div",{children:'Say "pass"'}),Object(T.jsx)("div",{children:'Say "clue"'}),Object(T.jsx)("div",{children:'Say "skip"'}),Object(T.jsx)("div",{children:'Say "stop"'}),Object(T.jsx)("div",{children:'Say "restart"'}),Object(T.jsx)("div",{children:'Say "repeat"'})]})}));case e.state.matches({asrtts:"speaking"}):return Object(T.jsx)("button",Object(i.a)(Object(i.a)({type:"button",className:"glow-on-hover",style:{animation:"bordering 1s infinite"}},e),{},{children:"Speaking..."}));default:return Object(T.jsx)("button",Object(i.a)(Object(i.a)({type:"button",className:"glow-on-hover"},e),{},{children:"Play game!"}))}};function G(){var e=Object(H.useSpeechSynthesis)({onEnd:function(){p("ENDSPEECH")}}),t=e.speak,a=e.cancel,n=(e.speaking,Object(H.useSpeechRecognition)({onResult:function(e){p({type:"ASRRESULT",value:e})}})),i=n.listen,o=(n.listening,n.stop),s=Object(c.b)(K,{devTools:!0,actions:{recStart:Object(c.a)((function(){console.log("Ready to receive a voice input."),i({interimResults:!1,continuous:!0})})),recStop:Object(c.a)((function(){console.log("Recognition stopped."),o()})),ttsStart:Object(c.a)((function(e,a){console.log("Speaking..."),t({text:e.ttsAgenda})})),ttsCancel:Object(c.a)((function(e,t){console.log("TTS STOP..."),a()})),speak:Object(c.a)((function(e){console.log("Speaking..."),t({text:e.ttsAgenda})}))}}),u=Object(r.a)(s,3),l=u[0],p=u[1],g=(u[2],l.context.confettiSwitch),h=l.context.tally,d=l.context.recResult,b=l.context.ttsAgenda,y=l.context.letter,m=0;return Object(T.jsxs)("div",{className:"App",children:[Object(T.jsx)(U,{state:l,onClick:function(){0===m?(console.log("clicked"),p("CLICK"),m=1):(console.log("unclicked"),p("UNCLICK"),m=0)}}),Object(T.jsx)("div",{className:"confetti",children:Object(T.jsx)(L.a,{active:g,config:{angle:90,spread:360,startVelocity:80,elementCount:400,dragFriction:.12,duration:7500,stagger:1,width:"7px",height:"7px",perspective:"210px",colors:["#a864fd","#29cdff","#78ff44","#ff718d","#fdff6a"]}})}),Object(T.jsxs)("div",{className:"subtitles",children:[Object(T.jsx)("h1",{children:y?y.toUpperCase():""}),Object(T.jsxs)("h2",{children:[Object(T.jsx)("strong",{children:h?"Score: "+h:""})," "]}),Object(T.jsxs)("h2",{children:[" ",Object(T.jsx)("strong",{children:h?"\ud83d\udc9b".repeat(h):""})," "]}),Object(T.jsx)(J,{voiceout:b,voicein:d})]})]})}var J=function(e){return Object(T.jsxs)("div",{children:[Object(T.jsxs)("h2",{children:[e.voiceout?"\ud83d\ude3c ":"",Object(T.jsxs)("code",{children:[" ",e.voiceout?e.voiceout:""," "]})]}),Object(T.jsxs)("h3",{children:[" ",e.voicein?"\ud83d\ude05 "+e.voicein:""," "]})]})},M=document.getElementById("root");n.render(Object(T.jsx)(G,{}),M)},57:function(e,t,a){}},[[280,1,2]]]);
//# sourceMappingURL=main.5ceb0bf2.chunk.js.map