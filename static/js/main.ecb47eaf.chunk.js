(this["webpackJsonpxstate-react-typescript-template"]=this["webpackJsonpxstate-react-typescript-template"]||[]).push([[0],{106:function(t,e,a){},111:function(t){t.exports=JSON.parse('{"questions":[{"category":"a day of the week","answers":["monday","tuesday","wednesday","thursday","friday","saturday","sunday"]},{"category":"a fruit","answers":["apple","avocado","apricot","banana","cantaloupe","cherries","cherry","clementine","date","grapefruit","grapes","grape","honeydew","melon","lemon","lime","mandarin","orange","mango","orange","papaya","peach","pear","pineapple","plantain","plum","pomelo","tangerine","watermelon","strawberry","blueberry","litchi","lingonberry","dragonfruit","tomato","pawpaw","lychee","kiwifruit","jackfruit","durian","guava","passionfruit"]},{"category":"an EU country","answers":["austria","belgium","bulgaria","croatia","cyprus","czech republic","czechia","denmark","estonia","finland","france","germany","greece","hungary","ireland","italy","latvia","lithuania","luxembourg","malta","netherlands","holland","poland","portugal","romania","slovakia","slovenia","spain","sweden"]},{"category":"a name of a month","answers":["january","february","march","april","may","june","july","august","september","october","november","december"]},{"category":"a country that has won Eurovision","answers":["luxembourg","portugal","switzerland","russia","sweden","estonia","serbia","monaco","denmark","israel","norway","greece","france","spain","azerbaijan","belgium","italy","yugoslavia","finland","latvia","germany","ireland","austria","turkey","united kingdom","ukraine","netherlands"]},{"category":"a country in Asia","answers":["china","india","kazakhstan","saudi arabia","iran","mongolia","indonesia","pakistan","turkey","myanmar","afghanistan","yemen","thailand","turkmenistan","uzbekistan","iraq","japan","vietnam","malaysia","oman","philippines","philippine","laos","lao","kyrgyzstan","syria","cambodia","bangladesh","nepal","tajikistan","north korea","south korea","korea","jordan","azerbaijan","united arab emirates","uae","georgia","sri lanka","bhutan","taiwan","armenia","israel","kuwait","east timor","qatar","lebanon","cyprus","northern cyprus","palestine","brunei","bahrain","singapore","maldives"]},{"category":"a capital city in Europe","answers":["amsterdam","andorra la vella","ankara","athens","baku","belgrade","berlin","bern","bratislava","brussels","bucharest","budapest","chisinau","kishinev","copenhagen","dublin","helsinki","kyiv","lisbon","ljubljana","london","luxembourg","madrid","minsk","monaco","moscow","nicosia","nur-sultan","oslo","paris","podgorica","prague","reykjavik","riga","rome","san marino","sarajevo","skopje","sofia","stockholm","tallinn","tbilisi","tirana","vaduz","valletta","vatican","vatican city","vienna","vilnius","warsaw","yerevan","zagreb","north nicosia","pristina","stepanakert","sukhumi","tiraspol","tskhinvali","south ossetia"]},{"category":"a common pet animal","answers":["bird","fish","mouse","rat","dog","cat","gerbil","hamster","spider","snake","ferret","goldfish","turtle","rabbit","pig","goat","guinea","pig","frog","hedgehog","horse","chicken","duck","goose","budgie","parrot","canary"]},{"category":"a vegetable","answers":["watercress","brussels sprout","pumpkin","squash","mushroom","bakchoy","kale","rocket","broccoli","spinach","carrot","beetroot","celery","zucchini","potato","onion","cucumber","eggplant","aubergine","corn","cauliflower","asparagus","cabbage"]},{"category":"a family member","answers":["dad","mom","mum","mother","father","sister","brother","auntie","aunt","uncle","cousin","niece","nephew","grandfather","grandmother","grandma","grandpa","granny","nanna","pappa","papa","mama","mamma","mommy"]},{"category":"a continent","answers":["america","australia","north america","south america","africa","asia","europe","antarctica"]},{"category":"a social media website or app","answers":["facebook","tik tok","twitter","instagram","snapchat","youtube"]}]}')},288:function(t,e,a){"use strict";a.r(e);a(106),a(2);var n=a(100),r=a(44),o=a(14),s=a(292),i=a(8),c=a(291),l=a(58),u=a(101),p=a(111);function b(t){var e=p.questions,a=[];return e.forEach((function(e){var n=e.answers,r=[];n.forEach((function(e){e[0]===t&&r.push(e)})),r.length>0&&a.push(e)})),a}function g(t){return t[t.length*Math.random()|0]}function d(){for(var t,e,a=!1;!1===a;)(e=b(t=g("abcdefghijklmnopqrstvvwxyz"))).length>=5&&(a=!0);return e.forEach((function(e){var a=e.answers,n=[];a.forEach((function(e){e[0]===t&&n.push(e)})),e.answers=n})),e=function(t){for(var e=t.length;0!==e;){var a=Math.floor(Math.random()*e),n=t[e-=1];t[e]=t[a],t[a]=n}return t}(e),[t,e]}var h=function t(e,a){Object(u.a)(this,t),this.letter=e,this.ques=a};function j(){var t=d(),e=t[0],a=t[1];return new h(e,a)}var f=new(a(112).NounInflector),y=Object(i.b)((function(t){return{recResult:""}})),m=Object(i.b)((function(t){return{ttsAgenda:""}})),O=Object(i.b)((function(t){return{tally:0}})),v=Object(i.b)((function(t){return{letter:void 0}})),k=Object(i.b)((function(t){return{confettiSwitch:!0}})),w=Object(i.b)((function(t){return{confettiSwitch:!1}})),x=Object(i.b)((function(t){return{playingNow:!0}})),E=Object(i.b)((function(t){return{playingNow:!1}})),S=Object(i.b)((function(t){var e=j();return{letter:e.letter,questions:e.ques,tally:0,confettiSwitch:!1}}));function C(t){var e=t.letter;return"Your letter is ".concat(e.toUpperCase()," for ").concat({a:"Adam",b:"Bella",c:"Cindy",d:"Daniel",e:"Eva",f:"Francesca",g:"Gabriel",h:"Harry",i:"Ida",j:"Julia",k:"Kevin",l:"Laura",m:"Michael",n:"Nicole",o:"Oscar",p:"Paula",q:"Quebec",r:"Rachel",s:"Sara",t:"Tina",u:"unique",v:"Victoria",w:"window",x:"x-ray",y:"yesman",z:"zero"}[e],". ")}function N(t){var e=t.questions[0].category;return"Name ".concat(e,". ")}function R(t){var e=g(t.questions[0].answers);if(e.length>=3){var a=e.slice(0,3).toUpperCase();return"Spelled with ".concat(a[0],", ").concat(a[1],", ").concat(a[2],".")}var n=e.slice(0,2).toUpperCase();return"Spelled with ".concat(n[0],", ").concat(n[1],", ").concat(n[2],".")}function P(t){return Object(i.k)((function(e){return{type:"SPEAK",value:t}}))}function A(){return[{target:"stop",cond:function(t){return"stop"===I(t.recResult)}},{target:"restart",cond:function(t){return"restart"===I(t.recResult)}},{target:"winning",cond:function(t){return"shortcut"===I(t.recResult)}},{target:".nomatch"}]}function q(t){return{initial:"prompt",states:{prompt:{entry:t,on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.k)("LISTEN")},nomatch:{entry:[P("Try again")],on:{ENDSPEECH:"prompt"}}}}}function z(t,e){return e.some((function(e){return t.includes(e)}))}function I(t){return z(t=t.toLowerCase(),["yes","of course","sure","absolutely","yeah","yep","okay","ok"])?"yes":z(t,["no","nope","no thanks","nah"])?"no":z(t,["skip","pass","next"])?"pass":z(t,["hint","clue","help"])?"hint":z(t,["letter","repeat"])?"whatletter":z(t,["stop","end the game","shut down"])?"stop":z(t,["restart","start again","reboot"])?"restart":z(t,["short cut","shortcut"])?"shortcut":void 0}var D={initial:"init",states:{init:{on:{CLICK:"start"}},stop:{entry:P("Ok bye!"),on:{ENDSPEECH:{actions:[O,v,m,y,w,E],target:"init"}}},start:{entry:P("Starting the game "),on:{ENDSPEECH:{actions:[S,x,m,y],target:"sayletter"}}},restart:{entry:P("Ok, starting over"),on:{ENDSPEECH:{actions:[S,x,m,y],target:"sayletter"}}},sayletter:{entry:Object(i.k)((function(t){return{type:"SPEAK",value:C(t)}})),on:{ENDSPEECH:"askQues"}},askQues:Object(o.a)({on:{RECOGNISED:[{cond:function(t){return function(t,e){var a=t.toLowerCase(),n=f.singularize(a),r=e.questions[0].answers;return z(a,r)||z(n,r)}(t.recResult,t)},actions:Object(i.b)((function(t){return t.questions.shift(),{tally:t.tally+1}})),target:"checkscore"},{cond:function(t){return"pass"===I(t.recResult)},actions:Object(i.b)((function(t){var e=t.questions.shift();return t.questions.push(e),{}})),target:"checkscore"},{cond:function(t){return"hint"===I(t.recResult)},target:"hint"},{cond:function(t){return"whatletter"===I(t.recResult)},target:"sayletter"}].concat(Object(l.a)(A()))}},q(Object(i.k)((function(t){return{type:"SPEAK",value:N(t)}})))),hint:{entry:Object(i.k)((function(t){return{type:"SPEAK",value:R(t)}})),always:"checkscore"},checkscore:{always:[{target:"askQues",cond:function(t){return t.tally<5}},{target:"winning",cond:function(t){return t.tally>=5}}]},winning:{entry:[P("Winner winner chicken dinner"),k,m],on:{ENDSPEECH:{target:"playagain"}}},playagain:Object(o.a)({entry:[y,w,O,v,E],on:{RECOGNISED:[{cond:function(t){return"yes"===I(t.recResult)},target:"restart"},{cond:function(t){return"no"===I(t.recResult)},target:"stop"}].concat(Object(l.a)(A()))}},q(P("Want to play again?")))}},L=a(102),H=a.n(L),T=a(105),K=a(59),U=a(54),G=a(55),B=a(4),M=a(272),J=a(276),Q=Object(s.a)({id:"root",type:"parallel",states:{dm:Object(o.a)({},D),asrtts:{initial:"idle",states:{idle:{on:{LISTEN:"recognising",SPEAK:{target:"speaking",actions:Object(i.b)((function(t,e){return{ttsAgenda:e.value}}))}}},recognising:{initial:"progress",entry:"recStart",exit:"recStop",on:{ASRRESULT:{actions:["recLogResult",Object(i.b)((function(t,e){return{recResult:e.value}}))],target:".match"},RECOGNISED:"idle"},states:{progress:{},match:{entry:Object(i.k)("RECOGNISED")}}},speaking:{entry:"ttsStart",on:{ENDSPEECH:"idle"}}}}}},{actions:{recLogResult:function(t){console.log("<< ASR: "+t.recResult)},test:function(){console.log("test")},logIntent:function(t){console.log("<< NLU intent: "+t.nluData.intent.name)}}}),F=function(t){var e=t.state.context.playingNow,a=t.state.context.ttsAgenda,n=e?"\ud83d\ude3c "+a:"\ud83d\ude3b "+a,s=e?"...or say Clue, Skip, Restart, Stop ":"...say Yes or No";switch(!0){case t.state.matches({asrtts:"recognising"}):return Object(B.jsx)("button",Object(o.a)(Object(o.a)({type:"button",className:"glow-on-hover",style:{animation:"glowing 20s linear"}},t),{},{children:Object(B.jsxs)(T.a,{mask:!0,interval:5e3,springConfig:{stiffness:170,damping:8},children:[Object(B.jsx)("div",{children:Object(B.jsxs)("code",{children:[" ",n," "]})}),Object(B.jsx)("div",{children:Object(B.jsxs)("code",{children:[" ",s," "]})})]})}));case t.state.matches({asrtts:"speaking"}):var i=Object(K.a)(n),c=Object(r.a)(i,1)[0];return Object(B.jsx)("button",Object(o.a)(Object(o.a)({type:"button",className:"glow-on-hover",style:{animation:"bordering 1s infinite"}},t),{},{children:Object(B.jsx)("code",{children:c})}));default:return Object(B.jsx)("button",Object(o.a)(Object(o.a)({type:"button",className:"glow-on-hover"},t),{},{children:Object(B.jsx)(M,{children:"Play game!"})}))}};function V(){var t=Object(G.useSpeechSynthesis)({onEnd:function(){p("ENDSPEECH")}}),e=t.speak,a=t.cancel,n=(t.speaking,Object(G.useSpeechRecognition)({onResult:function(t){p({type:"ASRRESULT",value:t})}})),o=n.listen,s=(n.listening,n.stop),i=Object(c.b)(Q,{devTools:!0,actions:{recStart:Object(c.a)((function(){console.log("Ready to receive a voice input."),o({interimResults:!1,continuous:!0})})),recStop:Object(c.a)((function(){console.log("Recognition stopped."),s()})),ttsStart:Object(c.a)((function(t,a){console.log("Speaking..."),e({text:t.ttsAgenda})})),ttsCancel:Object(c.a)((function(t,e){console.log("TTS STOP..."),a()})),speak:Object(c.a)((function(t){console.log("Speaking..."),e({text:t.ttsAgenda})}))}}),l=Object(r.a)(i,3),u=l[0],p=l[1],b=(l[2],u.context.confettiSwitch),g=u.context.playingNow,d=u.context.tally,h=u.context.recResult,j=(u.context.ttsAgenda,u.context.letter),f=0;return U.isChrome||U.isEdge?Object(B.jsxs)("div",{className:"App",children:[Object(B.jsxs)("div",{className:"LetterAndHeart",children:[Object(B.jsxs)("div",{className:"GlowLetter",children:[" ",Object(B.jsx)(Y,{letter:j})," "]}),Object(B.jsx)("div",{className:"Heart",children:g?Object(B.jsx)(X,{percentage:100*d/5}):null})]}),Object(B.jsx)(H.a,{active:b,config:{angle:90,spread:360,startVelocity:80,elementCount:400,dragFriction:.12,duration:7500,stagger:1,width:"7px",height:"7px",perspective:"210px",colors:["#a864fd","#29cdff","#78ff44","#ff718d","#fdff6a"]}}),Object(B.jsx)(J,{children:Object(B.jsx)("div",{className:"Button",children:Object(B.jsx)(F,{state:u,onClick:function(){0===f?(console.log("clicked"),p("CLICK"),f=1):(console.log("unclicked"),p("UNCLICK"),f=0)}})})}),Object(B.jsx)("div",{className:"Subtitles",children:Object(B.jsx)(W,{voiceIn:h,tally:d})})]}):Object(B.jsx)("div",{className:"OtherBrowsers",children:Object(B.jsx)(M,{children:Object(B.jsxs)("div",{className:"Box",children:[Object(B.jsx)("h1",{children:"Speech Recognition Not Supported :( "}),Object(B.jsx)("p",{children:"I won't be able to hear you on this browser."}),Object(B.jsx)("p",{children:"Please try Chrome or Edge. :-)"})]})})})}var W=function(t){var e=t.tally?["\ud83d\ude17","\ud83d\ude42","\ud83d\ude00","\ud83d\ude04","\ud83d\ude01","\ud83e\udd73"][t.tally]:"\ud83d\ude43",a=t.voiceIn?e+" "+t.voiceIn:"",n=Object(K.a)(a,{pace:function(t){return 3}}),o=Object(r.a)(n,1)[0];return Object(B.jsx)("div",{children:Object(B.jsxs)("span",{children:[" ",o," "]})})},Y=function(t){var e=t.letter;return Object(B.jsx)("div",{children:e?e.toUpperCase():""})},X=function(t){var e=24-24*(t.percentage?t.percentage:0)/100;return Object(B.jsx)("div",{className:"ProgressBarH",children:Object(B.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"50",height:"50",viewBox:"0 0 24 24",children:[Object(B.jsxs)("defs",{children:[Object(B.jsx)("clipPath",{id:"cut-off-bottom",children:Object(B.jsx)("rect",{x:"0",y:e,width:"24",height:"24"})}),Object(B.jsxs)("linearGradient",{id:"grey-grad",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[Object(B.jsx)("stop",{offset:"0%",stopColor:"#cfccce",stopOpacity:"0.75"}),Object(B.jsx)("stop",{offset:"60%",stopColor:"#bab8ba",stopOpacity:"0.85"}),Object(B.jsx)("stop",{offset:"100%",stopColor:"#949293",stopOpacity:"0.9"})]}),Object(B.jsxs)("linearGradient",{id:"pink-grad",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[Object(B.jsx)("stop",{offset:"0%",stopColor:"#ff33a7",stopOpacity:"0.95"}),Object(B.jsx)("stop",{offset:"60%",stopColor:"#ff2667",stopOpacity:"0.95"}),Object(B.jsx)("stop",{offset:"100%",stopColor:"rgb(255,0,0)",stopOpacity:"0.95"})]})]}),Object(B.jsx)("path",{style:{fill:"url(#grey-grad)"},d:"M12 4.248c-3.148-5.402-12-3.825-12 2.944 0 4.661 5.571 9.427 12 15.808 6.43-6.381 12-11.147 12-15.808 0-6.792-8.875-8.306-12-2.944z"}),Object(B.jsx)("path",{style:{fill:"url(#pink-grad)"},d:"M12 4.248c-3.148-5.402-12-3.825-12 2.944 0 4.661 5.571 9.427 12 15.808 6.43-6.381 12-11.147 12-15.808 0-6.792-8.875-8.306-12-2.944z",clipPath:"url(#cut-off-bottom)"})]})})},Z=document.getElementById("root");n.render(Object(B.jsx)(V,{}),Z)}},[[288,1,2]]]);
//# sourceMappingURL=main.ecb47eaf.chunk.js.map